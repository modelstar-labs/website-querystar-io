"use strict";(self.webpackChunkwebsite_querystar_io=self.webpackChunkwebsite_querystar_io||[]).push([[932],{3905:(e,a,n)=>{n.d(a,{Zo:()=>d,kt:()=>k});var t=n(7294);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function i(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function l(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?i(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function s(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=t.createContext({}),o=function(e){var a=t.useContext(p),n=a;return e&&(n="function"==typeof e?e(a):l(l({},a),e)),n},d=function(e){var a=o(e.components);return t.createElement(p.Provider,{value:a},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},u=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),m=o(n),u=r,k=m["".concat(p,".").concat(u)]||m[u]||c[u]||i;return n?t.createElement(k,l(l({ref:a},d),{},{components:n})):t.createElement(k,l({ref:a},d))}));function k(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=u;var s={};for(var p in a)hasOwnProperty.call(a,p)&&(s[p]=a[p]);s.originalType=e,s[m]="string"==typeof e?e:r,l[1]=s;for(var o=2;o<i;o++)l[o]=n[o];return t.createElement.apply(null,l)}return t.createElement.apply(null,n)}u.displayName="MDXCreateElement"},4539:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>p,contentTitle:()=>l,default:()=>c,frontMatter:()=>i,metadata:()=>s,toc:()=>o});var t=n(7462),r=(n(7294),n(3905));const i={},l="Actions",s={unversionedId:"api/slack/actions",id:"api/slack/actions",title:"Actions",description:"actions.slack.add_message()",source:"@site/docs/api/slack/actions.md",sourceDirName:"api/slack",slug:"/api/slack/actions",permalink:"/docs/api/slack/actions",draft:!1,tags:[],version:"current",lastUpdatedAt:1693540218,formattedLastUpdatedAt:"Sep 1, 2023",frontMatter:{},sidebar:"docs",previous:{title:"Triggers",permalink:"/docs/api/slack/triggers"},next:{title:"run",permalink:"/docs/api/cli/run"}},p={},o=[{value:"<code>actions.slack.add_message()</code>",id:"actionsslackadd_message",level:3},{value:"Description",id:"description",level:4},{value:"Parameters",id:"parameters",level:4},{value:"Return",id:"return",level:4},{value:"Errors and Warnings",id:"errors-and-warnings",level:4},{value:"<code>actions.slack.find_message()</code>",id:"actionsslackfind_message",level:3},{value:"Description",id:"description-1",level:4},{value:"Parameters",id:"parameters-1",level:4},{value:"Return",id:"return-1",level:4},{value:"Errors and Warnings",id:"errors-and-warnings-1",level:4},{value:"<code>actions.slack.find_user()</code>",id:"actionsslackfind_user",level:3},{value:"Description",id:"description-2",level:4},{value:"Parameters",id:"parameters-2",level:4},{value:"Return",id:"return-2",level:4},{value:"Errors and Warnings",id:"errors-and-warnings-2",level:4},{value:"<code>actions.slack.find_permalink()</code>",id:"actionsslackfind_permalink",level:3},{value:"Description",id:"description-3",level:4},{value:"Parameters",id:"parameters-3",level:4},{value:"Return",id:"return-3",level:4},{value:"Errors and Warnings",id:"errors-and-warnings-3",level:4}],d={toc:o},m="wrapper";function c(e){let{components:a,...i}=e;return(0,r.kt)(m,(0,t.Z)({},d,i,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"actions"},"Actions"),(0,r.kt)("h3",{id:"actionsslackadd_message"},(0,r.kt)("inlineCode",{parentName:"h3"},"actions.slack.add_message()")),(0,r.kt)("h4",{id:"description"},"Description"),(0,r.kt)("p",null,"Send a Slack message."),(0,r.kt)("h4",{id:"parameters"},"Parameters"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"channel_id"),": a channel id string. "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Required.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Example: ",(0,r.kt)("inlineCode",{parentName:"p"},"'a12345678'"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"It can be found on this page:"),(0,r.kt)("img",{src:n(3960).Z,style:{width:400}})))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"message"),": body of the message, string. "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Required."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"thread_ts"),": a timestamp string. "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Optional. Default: ",(0,r.kt)("inlineCode",{parentName:"li"},"''")," (not a reply in a thread)"),(0,r.kt)("li",{parentName:"ul"},"Usage: Provide another message's parent ts value to make this message a reply in the same thread."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"reply_broadcast"),": boolean. "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Optional. Default: ",(0,r.kt)("inlineCode",{parentName:"li"},"False"),"."),(0,r.kt)("li",{parentName:"ul"},"Usage: Used in conjunction with ",(0,r.kt)("inlineCode",{parentName:"li"},"thread_ts")," and indicates whether reply should be made visible to everyone in the channel or conversation. ")))),(0,r.kt)("h4",{id:"return"},"Return"),(0,r.kt)("p",null,"Example data structure:"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Expand"),(0,r.kt)("p",null,(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "ok": true,\n    "channel": "C123ABC456",\n    "ts": "1503435956.000247",\n    "message": {\n        "text": "Here\'s a message for you",\n        "username": "ecto1",\n        "bot_id": "B123ABC456",\n        "attachments": [\n            {\n                "text": "This is an attachment",\n                "id": 1,\n                "fallback": "This is an attachment\'s fallback"\n            }\n        ],\n        "type": "message",\n        "subtype": "bot_message",\n        "ts": "1503435956.000247"\n    }\n}\n')))),(0,r.kt)("h4",{id:"errors-and-warnings"},"Errors and Warnings"),(0,r.kt)("p",null,"Refer to ",(0,r.kt)("a",{parentName:"p",href:"https://api.slack.com/methods/chat.postMessage#errors"},"this doc from Slack"),"."),(0,r.kt)("h3",{id:"actionsslackfind_message"},(0,r.kt)("inlineCode",{parentName:"h3"},"actions.slack.find_message()")),(0,r.kt)("h4",{id:"description-1"},"Description"),(0,r.kt)("p",null,"Search for messages that matches a query"),(0,r.kt)("h4",{id:"parameters-1"},"Parameters"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"query"),": query string."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"count"),": int",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Optional. Default: ",(0,r.kt)("inlineCode",{parentName:"li"},"20"),"."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"sort"),": string, ",(0,r.kt)("inlineCode",{parentName:"li"},"'score'")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"'timestamp'"),".",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Optional. Default: ",(0,r.kt)("inlineCode",{parentName:"li"},"'score'"),"."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"sort_direction"),": string, ",(0,r.kt)("inlineCode",{parentName:"li"},"asc")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"'desc'"),".",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Optional. Default: ",(0,r.kt)("inlineCode",{parentName:"li"},"'desc'"),".")))),(0,r.kt)("h4",{id:"return-1"},"Return"),(0,r.kt)("p",null,"Example data structure:"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Expand"),(0,r.kt)("p",null,(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "messages": {\n        "matches": [\n            {\n                "channel": {\n                    "id": "C12345678",\n                    "is_ext_shared": false,\n                    "is_mpim": false,\n                    "is_org_shared": false,\n                    "is_pending_ext_shared": false,\n                    "is_private": false,\n                    "is_shared": false,\n                    "name": "general",\n                    "pending_shared": []\n                },\n                "iid": "cb64bdaa-c1e8-4631-8a91-0f78080113e9",\n                "permalink": "https://hitchhikers.slack.com/archives/C12345678/p1508284197000015",\n                "team": "T12345678",\n                "text": "The meaning of life the universe and everything is 42.",\n                "ts": "1508284197.000015",\n                "type": "message",\n                "user": "U2U85N1RV",\n                "username": "roach"\n            },\n            {\n                "channel": {\n                    "id": "C12345678",\n                    "is_ext_shared": false,\n                    "is_mpim": false,\n                    "is_org_shared": false,\n                    "is_pending_ext_shared": false,\n                    "is_private": false,\n                    "is_shared": false,\n                    "name": "random",\n                    "pending_shared": []\n                },\n                "iid": "9a00d3c9-bd2d-45b0-988b-6cff99ae2a90",\n                "permalink": "https://hitchhikers.slack.com/archives/C12345678/p1508795665000236",\n                "team": "T12345678",\n                "text": "The meaning of life the universe and everything is 101010",\n                "ts": "1508795665.000236",\n                "type": "message",\n                "user": "",\n                "username": "robot overlord"\n            }\n        ],\n        "pagination": {\n            "first": 1,\n            "last": 2,\n            "page": 1,\n            "page_count": 1,\n            "per_page": 20,\n            "total_count": 2\n        },\n        "paging": {\n            "count": 20,\n            "page": 1,\n            "pages": 1,\n            "total": 2\n        },\n        "total": 2\n    },\n    "ok": true,\n    "query": "The meaning of life the universe and everything"\n}\n')))),(0,r.kt)("h4",{id:"errors-and-warnings-1"},"Errors and Warnings"),(0,r.kt)("p",null,"Refer to ",(0,r.kt)("a",{parentName:"p",href:"https://api.slack.com/methods/search.messages#errors"},"this doc from Slack"),"."),(0,r.kt)("h3",{id:"actionsslackfind_user"},(0,r.kt)("inlineCode",{parentName:"h3"},"actions.slack.find_user()")),(0,r.kt)("h4",{id:"description-2"},"Description"),(0,r.kt)("p",null,"Get user information from user id."),(0,r.kt)("h4",{id:"parameters-2"},"Parameters"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"user_id"),": user_id string.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Required.")))),(0,r.kt)("h4",{id:"return-2"},"Return"),(0,r.kt)("p",null,"Example data structure:"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Expand"),(0,r.kt)("p",null,(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "ok": true,\n    "user": {\n        "id": "W012A3CDE",\n        "team_id": "T012AB3C4",\n        "name": "spengler",\n        "deleted": false,\n        "color": "9f69e7",\n        "real_name": "Egon Spengler",\n        "tz": "America/Los_Angeles",\n        "tz_label": "Pacific Daylight Time",\n        "tz_offset": -25200,\n        "profile": {\n            "avatar_hash": "ge3b51ca72de",\n            "status_text": "Print is dead",\n            "status_emoji": ":books:",\n            "real_name": "Egon Spengler",\n            "display_name": "spengler",\n            "real_name_normalized": "Egon Spengler",\n            "display_name_normalized": "spengler",\n            "email": "spengler@ghostbusters.example.com",\n            "image_original": "https://.../avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg",\n            "image_24": "https://.../avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg",\n            "image_32": "https://.../avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg",\n            "image_48": "https://.../avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg",\n            "image_72": "https://.../avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg",\n            "image_192": "https://.../avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg",\n            "image_512": "https://.../avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg",\n            "team": "T012AB3C4"\n        },\n        "is_admin": true,\n        "is_owner": false,\n        "is_primary_owner": false,\n        "is_restricted": false,\n        "is_ultra_restricted": false,\n        "is_bot": false,\n        "updated": 1502138686,\n        "is_app_user": false,\n        "has_2fa": false\n    }\n}\n')))),(0,r.kt)("h4",{id:"errors-and-warnings-2"},"Errors and Warnings"),(0,r.kt)("p",null,"Refer to ",(0,r.kt)("a",{parentName:"p",href:"https://api.slack.com/methods/users.info#errors"},"this doc from Slack"),"."),(0,r.kt)("h3",{id:"actionsslackfind_permalink"},(0,r.kt)("inlineCode",{parentName:"h3"},"actions.slack.find_permalink()")),(0,r.kt)("h4",{id:"description-3"},"Description"),(0,r.kt)("p",null,"Return a permalink URL of a message based on ",(0,r.kt)("inlineCode",{parentName:"p"},"channel id")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"timestamp")),(0,r.kt)("h4",{id:"parameters-3"},"Parameters"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"channel_id"),": query string."),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Required."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"message_ts"),": timestamp string."),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Required.")))),(0,r.kt)("h4",{id:"return-3"},"Return"),(0,r.kt)("p",null,"Example data structure:"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Expand"),(0,r.kt)("p",null,(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "ok": true,\n    "channel": "C123ABC456",\n    "permalink": "https://ghostbusters.slack.com/archives/C1H9RESGA/p135854651500008"\n}\n\n')))),(0,r.kt)("h4",{id:"errors-and-warnings-3"},"Errors and Warnings"),(0,r.kt)("p",null,"Refer to ",(0,r.kt)("a",{parentName:"p",href:"https://api.slack.com/methods/chat.getPermalink#errors"},"this doc from Slack"),"."))}c.isMDXComponent=!0},3960:(e,a,n)=>{n.d(a,{Z:()=>t});const t=n.p+"assets/images/find_channel_id-cb49acee7c4cd994061ac61661733b48.png"}}]);