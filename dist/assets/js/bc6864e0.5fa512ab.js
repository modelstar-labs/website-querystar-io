(self.webpackChunkwebsite_querystar_io=self.webpackChunkwebsite_querystar_io||[]).push([[932],{9433:(e,a,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/find_channel_id.7369ec1.640.png 640w,"+n.p+"assets/ideal-img/find_channel_id.8f81cab.793.png 793w",images:[{path:n.p+"assets/ideal-img/find_channel_id.7369ec1.640.png",width:640,height:716},{path:n.p+"assets/ideal-img/find_channel_id.8f81cab.793.png",width:793,height:887}],src:n.p+"assets/ideal-img/find_channel_id.7369ec1.640.png",toString:function(){return n.p+"assets/ideal-img/find_channel_id.7369ec1.640.png"},placeholder:void 0,width:640,height:716},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAALCAYAAABGbhwYAAAACXBIWXMAAAsTAAALEwEAmpwYAAABP0lEQVQYlW3Qv0sCcRjH8dsbWksCraAhtXJrzCXcosE8EcGQJgehIULP8HQzfw2u9o8VRl6GSQSe3p2ed/cOv2I09IEPPMOLh4dH2t3cI32RJn+TR1VUqg9VKkoFtahSLpSRL2Vi0RhS2Bdm9DnCXtgsFjaO6/A33acumesMUsgXptd7ZTweY5kWlmUxn8+x5zauB+12m1QqhRTcCqL1NVzXxfM80eXsOA4eUKs9IsvyEh4KaJrGL1xjgHq9TjweRzrYP0XTBpiW+S9sNlskEgmk4HaIvthoYtv2P7C5guGdY4baANecCbjOEi/TarVIJpNIR/4I/bc+s9kMw5gymUxEdV0XuNForG6MBE54f/7gW9MZvnxhTA1xr2EYYmOn01m9x78R4CwUJX5+xd3tPcVCEUVRKJVKorlcjmw2yw/fX1goCIZulgAAAABJRU5ErkJggg=="}},8505:(e,a,n)=>{"use strict";n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>p,toc:()=>o});var t=n(7462),i=(n(7294),n(4137)),r=n(5944);const s={},l="Actions",p={unversionedId:"api/slack/actions",id:"api/slack/actions",title:"Actions",description:"actions.slack.add_message()",source:"@site/docs/api/slack/actions.md",sourceDirName:"api/slack",slug:"/api/slack/actions",permalink:"/docs/api/slack/actions",draft:!1,tags:[],version:"current",lastUpdatedAt:1695050760,formattedLastUpdatedAt:"Sep 18, 2023",frontMatter:{},sidebar:"docs",previous:{title:"Triggers",permalink:"/docs/api/slack/triggers"},next:{title:"run",permalink:"/docs/api/cli/run"}},d={},o=[{value:"<code>actions.slack.add_message()</code>",id:"actionsslackadd_message",level:3},{value:"Description",id:"description",level:4},{value:"Parameters",id:"parameters",level:4},{value:"Return",id:"return",level:4},{value:"Errors and Warnings",id:"errors-and-warnings",level:4},{value:"<code>actions.slack.find_message()</code>",id:"actionsslackfind_message",level:3},{value:"Description",id:"description-1",level:4},{value:"Parameters",id:"parameters-1",level:4},{value:"Return",id:"return-1",level:4},{value:"Errors and Warnings",id:"errors-and-warnings-1",level:4},{value:"<code>actions.slack.find_user()</code>",id:"actionsslackfind_user",level:3},{value:"Description",id:"description-2",level:4},{value:"Parameters",id:"parameters-2",level:4},{value:"Return",id:"return-2",level:4},{value:"Errors and Warnings",id:"errors-and-warnings-2",level:4},{value:"<code>actions.slack.find_permalink()</code>",id:"actionsslackfind_permalink",level:3},{value:"Description",id:"description-3",level:4},{value:"Parameters",id:"parameters-3",level:4},{value:"Return",id:"return-3",level:4},{value:"Errors and Warnings",id:"errors-and-warnings-3",level:4}],m={toc:o},c="wrapper";function u(e){let{components:a,...s}=e;return(0,i.kt)(c,(0,t.Z)({},m,s,{components:a,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"actions"},"Actions"),(0,i.kt)("h3",{id:"actionsslackadd_message"},(0,i.kt)("inlineCode",{parentName:"h3"},"actions.slack.add_message()")),(0,i.kt)("h4",{id:"description"},"Description"),(0,i.kt)("p",null,"Send a Slack message."),(0,i.kt)("h4",{id:"parameters"},"Parameters"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"channel_id"),": a channel id string."),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Required.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Example: ",(0,i.kt)("inlineCode",{parentName:"p"},"'a12345678'"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"It can be found on this page:"),(0,i.kt)(r.Z,{img:n(9433),style:{maxWidth:400},mdxType:"Image"})))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"message"),": body of the message, string."),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Required."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"thread_ts"),": a timestamp string."),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Optional. Default: ",(0,i.kt)("inlineCode",{parentName:"li"},"''")," (not a reply in a thread)"),(0,i.kt)("li",{parentName:"ul"},"Usage: Provide another message's parent ts value to make this message a reply in the same thread."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"reply_broadcast"),": boolean."),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Optional. Default: ",(0,i.kt)("inlineCode",{parentName:"li"},"False"),"."),(0,i.kt)("li",{parentName:"ul"},"Usage: Used in conjunction with ",(0,i.kt)("inlineCode",{parentName:"li"},"thread_ts")," and indicates whether reply should be made visible to everyone in the channel or conversation.")))),(0,i.kt)("h4",{id:"return"},"Return"),(0,i.kt)("p",null,"Example data structure:"),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Expand"),(0,i.kt)("p",null,(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "ok": true,\n    "channel": "C123ABC456",\n    "ts": "1503435956.000247",\n    "message": {\n        "text": "Here\'s a message for you",\n        "username": "ecto1",\n        "bot_id": "B123ABC456",\n        "attachments": [\n            {\n                "text": "This is an attachment",\n                "id": 1,\n                "fallback": "This is an attachment\'s fallback"\n            }\n        ],\n        "type": "message",\n        "subtype": "bot_message",\n        "ts": "1503435956.000247"\n    }\n}\n')))),(0,i.kt)("h4",{id:"errors-and-warnings"},"Errors and Warnings"),(0,i.kt)("p",null,"Refer to ",(0,i.kt)("a",{parentName:"p",href:"https://api.slack.com/methods/chat.postMessage#errors"},"this doc from Slack"),"."),(0,i.kt)("h3",{id:"actionsslackfind_message"},(0,i.kt)("inlineCode",{parentName:"h3"},"actions.slack.find_message()")),(0,i.kt)("h4",{id:"description-1"},"Description"),(0,i.kt)("p",null,"Search for messages that matches a query"),(0,i.kt)("h4",{id:"parameters-1"},"Parameters"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"query"),": query string."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"count"),": int",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Optional. Default: ",(0,i.kt)("inlineCode",{parentName:"li"},"20"),"."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"sort"),": string, ",(0,i.kt)("inlineCode",{parentName:"li"},"'score'")," or ",(0,i.kt)("inlineCode",{parentName:"li"},"'timestamp'"),".",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Optional. Default: ",(0,i.kt)("inlineCode",{parentName:"li"},"'score'"),"."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"sort_direction"),": string, ",(0,i.kt)("inlineCode",{parentName:"li"},"asc")," or ",(0,i.kt)("inlineCode",{parentName:"li"},"'desc'"),".",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Optional. Default: ",(0,i.kt)("inlineCode",{parentName:"li"},"'desc'"),".")))),(0,i.kt)("h4",{id:"return-1"},"Return"),(0,i.kt)("p",null,"Example data structure:"),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Expand"),(0,i.kt)("p",null,(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "messages": {\n        "matches": [\n            {\n                "channel": {\n                    "id": "C12345678",\n                    "is_ext_shared": false,\n                    "is_mpim": false,\n                    "is_org_shared": false,\n                    "is_pending_ext_shared": false,\n                    "is_private": false,\n                    "is_shared": false,\n                    "name": "general",\n                    "pending_shared": []\n                },\n                "iid": "cb64bdaa-c1e8-4631-8a91-0f78080113e9",\n                "permalink": "https://hitchhikers.slack.com/archives/C12345678/p1508284197000015",\n                "team": "T12345678",\n                "text": "The meaning of life the universe and everything is 42.",\n                "ts": "1508284197.000015",\n                "type": "message",\n                "user": "U2U85N1RV",\n                "username": "roach"\n            },\n            {\n                "channel": {\n                    "id": "C12345678",\n                    "is_ext_shared": false,\n                    "is_mpim": false,\n                    "is_org_shared": false,\n                    "is_pending_ext_shared": false,\n                    "is_private": false,\n                    "is_shared": false,\n                    "name": "random",\n                    "pending_shared": []\n                },\n                "iid": "9a00d3c9-bd2d-45b0-988b-6cff99ae2a90",\n                "permalink": "https://hitchhikers.slack.com/archives/C12345678/p1508795665000236",\n                "team": "T12345678",\n                "text": "The meaning of life the universe and everything is 101010",\n                "ts": "1508795665.000236",\n                "type": "message",\n                "user": "",\n                "username": "robot overlord"\n            }\n        ],\n        "pagination": {\n            "first": 1,\n            "last": 2,\n            "page": 1,\n            "page_count": 1,\n            "per_page": 20,\n            "total_count": 2\n        },\n        "paging": {\n            "count": 20,\n            "page": 1,\n            "pages": 1,\n            "total": 2\n        },\n        "total": 2\n    },\n    "ok": true,\n    "query": "The meaning of life the universe and everything"\n}\n')))),(0,i.kt)("h4",{id:"errors-and-warnings-1"},"Errors and Warnings"),(0,i.kt)("p",null,"Refer to ",(0,i.kt)("a",{parentName:"p",href:"https://api.slack.com/methods/search.messages#errors"},"this doc from Slack"),"."),(0,i.kt)("h3",{id:"actionsslackfind_user"},(0,i.kt)("inlineCode",{parentName:"h3"},"actions.slack.find_user()")),(0,i.kt)("h4",{id:"description-2"},"Description"),(0,i.kt)("p",null,"Get user information from user id."),(0,i.kt)("h4",{id:"parameters-2"},"Parameters"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"user_id"),": user_id string.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Required.")))),(0,i.kt)("h4",{id:"return-2"},"Return"),(0,i.kt)("p",null,"Example data structure:"),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Expand"),(0,i.kt)("p",null,(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "ok": true,\n    "user": {\n        "id": "W012A3CDE",\n        "team_id": "T012AB3C4",\n        "name": "spengler",\n        "deleted": false,\n        "color": "9f69e7",\n        "real_name": "Egon Spengler",\n        "tz": "America/Los_Angeles",\n        "tz_label": "Pacific Daylight Time",\n        "tz_offset": -25200,\n        "profile": {\n            "avatar_hash": "ge3b51ca72de",\n            "status_text": "Print is dead",\n            "status_emoji": ":books:",\n            "real_name": "Egon Spengler",\n            "display_name": "spengler",\n            "real_name_normalized": "Egon Spengler",\n            "display_name_normalized": "spengler",\n            "email": "spengler@ghostbusters.example.com",\n            "image_original": "https://.../avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg",\n            "image_24": "https://.../avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg",\n            "image_32": "https://.../avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg",\n            "image_48": "https://.../avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg",\n            "image_72": "https://.../avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg",\n            "image_192": "https://.../avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg",\n            "image_512": "https://.../avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg",\n            "team": "T012AB3C4"\n        },\n        "is_admin": true,\n        "is_owner": false,\n        "is_primary_owner": false,\n        "is_restricted": false,\n        "is_ultra_restricted": false,\n        "is_bot": false,\n        "updated": 1502138686,\n        "is_app_user": false,\n        "has_2fa": false\n    }\n}\n')))),(0,i.kt)("h4",{id:"errors-and-warnings-2"},"Errors and Warnings"),(0,i.kt)("p",null,"Refer to ",(0,i.kt)("a",{parentName:"p",href:"https://api.slack.com/methods/users.info#errors"},"this doc from Slack"),"."),(0,i.kt)("h3",{id:"actionsslackfind_permalink"},(0,i.kt)("inlineCode",{parentName:"h3"},"actions.slack.find_permalink()")),(0,i.kt)("h4",{id:"description-3"},"Description"),(0,i.kt)("p",null,"Return a permalink URL of a message based on ",(0,i.kt)("inlineCode",{parentName:"p"},"channel id")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"timestamp")),(0,i.kt)("h4",{id:"parameters-3"},"Parameters"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"channel_id"),": query string."),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Required."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"message_ts"),": timestamp string."),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Required.")))),(0,i.kt)("h4",{id:"return-3"},"Return"),(0,i.kt)("p",null,"Example data structure:"),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Expand"),(0,i.kt)("p",null,(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "ok": true,\n    "channel": "C123ABC456",\n    "permalink": "https://ghostbusters.slack.com/archives/C1H9RESGA/p135854651500008"\n}\n')))),(0,i.kt)("h4",{id:"errors-and-warnings-3"},"Errors and Warnings"),(0,i.kt)("p",null,"Refer to ",(0,i.kt)("a",{parentName:"p",href:"https://api.slack.com/methods/chat.getPermalink#errors"},"this doc from Slack"),"."))}u.isMDXComponent=!0}}]);